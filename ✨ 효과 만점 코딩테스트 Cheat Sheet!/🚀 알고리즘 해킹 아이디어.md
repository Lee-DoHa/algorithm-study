# 📚 파이썬 자료형 특징 모음

- [mutable과 immutable](https://github.com/da-in/algorithm-study/blob/main/✨%20효과%20만점%20코딩테스트%20Cheat%20Sheet!/📚%20파이썬%20자료형%20특징%20모음.md#mutable-과-immutable)
- [얕은 복사와 깊은 복사](https://github.com/da-in/algorithm-study/blob/main/✨%20효과%20만점%20코딩테스트%20Cheat%20Sheet!/📚%20파이썬%20자료형%20특징%20모음.md#얕은-복사와-깊은-복사)

<br/>

### mutable 과 immutable

python의 자료형은 `mutable` 객체와 `immutable` 객체로 나뉜다.

- **mutable** : 변경되는 객체 (객체의 상태 변경 가능)
  - mutable 객체의 주소를 찍어보면 객체의 값이 같은 경우에 변수에 상관없이 동일한 곳을 참조한다.
  - ex) `list`, `set`, `dictionary`
- **immutable** : 변경되지 않는 객체 (객체 상태 변경 불가능)
  - immutable 객체의 주소를 찍어보면 각자 다른 곳을 참조한다.
  - ex) `int`, `float`, `tuple`, `str`

<br/>

### 얕은 복사와 깊은 복사

`immutable` 객체는 값을 변경할 때 기존 객체의 상태를 변화시키지 않고 새로운 값을 메모리에 할당하게 되므로 얕은복사, 깊은 복사에 따른 동작의 차이가 없다.

`mutable` 객체는 두 가지 복사 방법에 따라 영향을 받는다.

- **얕은 복사** : 원본 객체의 주소값을 복사하는 것(객체 참조)

  - ex) 대입연산자 `=`, 슬라이싱 `[:]`, `copy()` 메서드
  - _슬라이싱과 copy()는 최상위 차원은 깊은복사인 것 처럼 동작하지만 내부 객체를 얕은복사한다._

    ```py
    arr1 = [0] * 4 # [0,0,0,0]
    arr2 = [[0 * 4] * 4] # [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]]

    arr1[0]=1 # mutable, [1,0,0,0]
    arr2[0][0]=1 # immutable, [[1,0,0,0], [1,0,0,0], [1,0,0,0], [1,0,0,0]]

    arr3 = [0,0,0] * 3 # mutable
    ```
    <div>
      <img alt="1차원 배열 예시" src="https://user-images.githubusercontent.com/53565255/217977160-07145113-c275-4e2d-8ad9-08fce3d18b29.png" width="320" >
      <img alt="2차원 배열 예시" src="https://user-images.githubusercontent.com/53565255/217977207-39fa5bb3-c6fe-40b7-bb9f-83179dfcf108.png" width="310" >
    </div>

- **깊은 복사** : 객체 내부의 객체까지 모든 값을 복사하여 독립적인 객체를 생성한다.

  - ex) copy.deepcopy()

    ```py
    import copy

    arr1 = [1, 2, [3, 4, 5], 6]
    arr2 = copy.deepcopy(arr1)
    arr3 = arr1

    arr2[2][0]=0 # arr1 [1, 2, [3, 4, 5], 6]
    arr3[2][0]=0 # arr1 [1, 2, [0, 4, 5], 6]
    ```
